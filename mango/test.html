<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ZODIÎ”C</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.fog.min.js"></script>

<style>
  * {
    box-sizing: border-box;
    font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  }

  html, body {
    margin: 0;
    width: 100%;
    height: 100%;
    background: #000;
    overflow: hidden;
    color: #fff;
  }

  #fog {
    position: absolute;
    inset: 0;
    z-index: 0;
  }

  #ui {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2;
  }

  .glass {
    position: relative;
    width: 380px;
    padding: 34px 32px 36px;
    border-radius: 24px;

    background: rgba(255,255,255,0.06);
    backdrop-filter: blur(24px) saturate(180%);
    -webkit-backdrop-filter: blur(24px) saturate(180%);

    border: 1px solid rgba(255,255,255,0.28);
    box-shadow:
      0 40px 90px rgba(0,0,0,0.85),
      inset 0 0 40px rgba(255,255,255,0.08);

    overflow: hidden;
  }

  .glass::before {
    content: "";
    position: absolute;
    inset: -45%;
    background:
      radial-gradient(circle at 25% 25%, rgba(255,255,255,0.35), transparent 60%),
      radial-gradient(circle at 75% 75%, rgba(255,255,255,0.25), transparent 55%);
    filter: blur(34px);
    opacity: 0.55;
    animation: liquid 14s linear infinite;
    pointer-events: none;
  }

  @keyframes liquid {
    0% { transform: translate(0,0) rotate(0deg); }
    50% { transform: translate(-6%, -8%) rotate(180deg); }
    100% { transform: translate(0,0) rotate(360deg); }
  }

  .logo {
    width: 100%;
    height: 64px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 18px;
  }

  .logo img {
    max-height: 100%;
    max-width: 70%;
    object-fit: contain;
    filter: drop-shadow(0 4px 12px rgba(0,0,0,0.6));
  }

  .logo span {
    font-size: 22px;
    font-weight: 600;
    letter-spacing: 0.4px;
    opacity: 0.9;
  }

  h2 {
    margin: 0 0 18px;
    font-size: 18px;
    font-weight: 500;
    text-align: center;
    opacity: 0.85;
  }

  input {
    width: 100%;
    padding: 14px 15px;
    border-radius: 14px;
    background: rgba(0,0,0,0.55);
    border: 1px solid rgba(255,255,255,0.25);
    color: #fff;
    font-size: 15px;
    outline: none;
  }

  input::placeholder {
    color: rgba(255,255,255,0.45);
  }

  button {
    width: 100%;
    margin-top: 20px;
    padding: 14px;
    border-radius: 16px;
    background: linear-gradient(
      180deg,
      rgba(255,255,255,0.35),
      rgba(255,255,255,0.1)
    );
    border: 1px solid rgba(255,255,255,0.35);
    color: #fff;
    font-size: 15px;
    font-weight: 500;
    cursor: pointer;
  }

  button:hover {
    background: linear-gradient(
      180deg,
      rgba(255,255,255,0.45),
      rgba(255,255,255,0.18)
    );
  }

  iframe {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    border: none;
    display: none;
    z-index: 1;
  }
</style>
</head>
<body>

<div id="fog"></div>

<div id="ui">
  <div class="glass">

    <div class="logo">
      <img src="https://media.blooket.com/image/upload/c_limit,f_auto,h_250,fl_lossy,q_auto:low/v1767893179/w8cpt6r13lprsclhbxny.gif">
      <h1>zodiac</h1>
    </div>

    <h2>Enter Game ID</h2>

    <input id="blooketId" placeholder="Blooket ID" autocomplete="off">
    <button onclick="start()">Launch</button>
  </div>
</div>

<iframe id="embed"></iframe>

<script>
  VANTA.FOG({
    el: "#fog",
    mouseControls: true,
    touchControls: true,
    gyroControls: false,
    minHeight: 200.0,
    minWidth: 200.0,
    highlightColor: 0xffffff,
    midtoneColor: 0x000000,
    lowlightColor: 0x000000,
    baseColor: 0x000000,
    blurFactor: 0.65,
    speed: 0.7,
    zoom: 1.4
  });

  function start() {
    const id = document.getElementById("blooketId").value.trim();
    if (!id) return;

    const iframe = document.getElementById("embed");
    const ui = document.getElementById("ui");

    iframe.src = `/s/embed.html#https://play.blooket.com/play?id=${encodeURIComponent(id)}`;
    iframe.style.display = "block";
    ui.style.display = "none";

    iframe.onload = () => {
      try {
        const doc = iframe.contentDocument || iframe.contentWindow.document;
        const script = doc.createElement("script");
        script.src = "/zodiac.js";
        script.defer = true;
        doc.head.appendChild(script);
      } catch (e) {
        console.warn("Injection failed:", e);
      }
    };
  }

  document.getElementById("blooketId").addEventListener("keydown", e => {
    if (e.key === "Enter") start();
  });
</script>

</body>
</html>
